<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>The Last Stand RPG - Character Sheet</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
        <meta content="Coderthemes" name="author" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <!-- App favicon -->
        <link rel="shortcut icon" href="assets/images/favicon.ico">

        <!-- Plugins css -->
        <link href="assets/libs/quill/quill.core.css" rel="stylesheet" type="text/css" />
        <link href="assets/libs/quill/quill.bubble.css" rel="stylesheet" type="text/css" />
        <link href="assets/libs/quill/quill.snow.css" rel="stylesheet" type="text/css" />

        <!-- App css -->
        <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/app.min.css" rel="stylesheet" type="text/css" />

        <style>

            .form-control {
                font-weight: bolder;
                color: black;
            }

            label {
                
                font-weight: 500;
            }

            table {
                border: 2px solid #f7f7f7;
                margin: 15px;
            }

            #stats-wrapper {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                grid-template-rows: repeat(8, 1fr);
                grid-column-gap: 0px;
                grid-row-gap: 0px;
            }


            #health-table { grid-area: 1 / 1 / 2 / 3; }
            #actions-table { grid-area: 2 / 1 / 3 / 3; }
            #stats-table { grid-area: 3 / 1 / 9 / 3; }
            #skills-table { grid-area: 1 / 3 / 9 / 5; }
            

        </style>

    </head>

    <body>

        <!-- Begin page -->
        <div id="wrapper">

            
             <!-- Topbar -->
             <%- include ../partials/topbar.ejs %>
            
             <!-- ========== Left Sidebar ========== -->
             <%- include ../partials/left-sidebar.ejs %>

            <!-- ============================================================== -->
            <!-- Start Page Content here -->
            <!-- ============================================================== -->
            <div class="content-page">
                <div class="content">
                    
                    <!-- Start Content-->
                    <div class="container-fluid">
                        
                        <!-- start page title -->
                        <div class="row">
                            <div class="col-12">
                                <div class="page-title-box">
                                    <div class="page-title-right">
                                        <ol class="breadcrumb m-0">
                                            <li class="breadcrumb-item"><a href="javascript: void(0);"><%=games[0].name%></a></li>
                                            <li class="breadcrumb-item"><a href="javascript: void(0);">Characters</a></li>
                                            <li class="breadcrumb-item active"><%= displayCharacter.name%></li>
                                        </ol>
                                    </div>
                                    <h4 class="page-title">Starter page</h4>
                                </div>
                            </div>
                        </div>     
                        <!-- end page title --> 

                        <div class="card-box">
                            <h4 class="header-title mb-4">Default Tabs</h4>

                            <ul class="nav nav-tabs">
                                <li class="nav-item">
                                    <a href="#profile" data-toggle="tab" aria-expanded="true" class="nav-link active">
                                        Character Details
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="#stats" data-toggle="tab" aria-expanded="false" class="nav-link">
                                        Stats and Skills
                                    </a>
                                </li>
                                
                                <li class="nav-item">
                                    <a href="#spells" data-toggle="tab" aria-expanded="false" class="nav-link">
                                        Spells
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="#abilities" data-toggle="tab" aria-expanded="false" class="nav-link">
                                        Abilities
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="#backstory" data-toggle="tab" aria-expanded="false" class="nav-link">
                                        Backstory
                                    </a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane" id="stats">
                                    <div id="stats-wrapper">
                                        <table class="tablesaw mb-0" data-tablesaw-mode="stack" id="health-table">
                                            <thead>
                                            <tr>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist"></th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-sortable-default-col data-tablesaw-priority="3">- Level -</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="2">- Current -</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="1">- Maximum -</th>
                                            
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>Health</td>
                                                <td><%= displayCharacter.health_level %></td>
                                                <td contentEditable="true" onblur="updateHealth()" id="currentHealth"><%= displayCharacter.current_health %></td>
                                                <td><%= displayCharacter.max_health %></td>
                                            </tr>
                                            
                                            </tbody>
                                        </table>

                                        <table class="tablesaw mb-0" data-tablesaw-mode="stack" id="actions-table">
                                            <thead>
                                            <tr>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist"></th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-sortable-default-col data-tablesaw-priority="3">From Speed</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="2">From Wit</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="2">Current</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="1">Maximum</th>
                                            
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>Actions</td>
                                                <td><%= displayCharacter.speed %></td>
                                                <td><%= displayCharacter.wit %></td>
                                                <td contentEditable="true" onblur="updateActions()" id="currentActions">2</td>
                                                <td>10</td>
                                            </tr>
                                            
                                            </tbody>
                                        </table>
                                        <table class="tablesaw mb-0" data-tablesaw-mode="stack" id="stats-table">
                                            <thead>
                                            <tr>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">Stat</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-sortable-default-col data-tablesaw-priority="3">- Base -</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="2">- Temp -</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="1">- Max -</th>
                                            
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>Strength</td>
                                                <td><%= displayCharacter.strength %></td>
                                                <td contentEditable="true" onblur="updateStrength()" id="currentStrength"><%= displayCharacter.temp_strength %></td>
                                                <td><%= displayCharacter.max_strength %></td>
                                            </tr>
                                            <tr>
                                                <td>Dexterity</td>
                                                <td><%= displayCharacter.dexterity %></td>
                                                <td contentEditable="true" onblur="updateDexterity()" id="currentDexterity"><%= displayCharacter.temp_dexterity %></td>
                                                <td><%= displayCharacter.max_dexterity %></td>
                                            </tr>
                                            <tr>
                                                <td>Constitution</td>
                                                <td><%= displayCharacter.constitution %></td>
                                                <td contentEditable="true" onblur="updateConstitution()" id="currentConstitution"><%= displayCharacter.temp_constitution %></td>
                                                <td><%= displayCharacter.max_constitution %></td>
                                            </tr>
                                            <tr>
                                                <td>Speed</td>
                                                <td><%= displayCharacter.speed %></td>
                                                <td contentEditable="true" onblur="updateSpeed()" id="currentSpeed"><%= displayCharacter.temp_speed %></td>
                                                <td><%= displayCharacter.max_speed %></td>
                                            </tr>
                                            <tr>
                                                <td>Intelligence</td>
                                                <td><%= displayCharacter.intelligence %></td>
                                                <td contentEditable="true" onblur="updateIntelligence()" id="currentIntelligence"><%= displayCharacter.temp_intelligence %></td>
                                                <td><%= displayCharacter.max_intelligence %></td>
                                            </tr>
                                            <tr>
                                                <td>Wisdom</td>
                                                <td><%= displayCharacter.wisdom %></td>
                                                <td contentEditable="true" onblur="updateWisdom()" id="currentWisdom"><%= displayCharacter.temp_wisdom %></td>
                                                <td><%= displayCharacter.max_wisdom %></td>
                                            </tr>
                                            <tr>
                                                <td>Charisma</td>
                                                <td><%= displayCharacter.charisma %></td>
                                                <td contentEditable="true" onblur="updateCharisma()" id="currentCharisma"><%= displayCharacter.temp_charisma %></td>
                                                <td><%= displayCharacter.max_charisma %></td>
                                            </tr>
                                            <tr>
                                                <td>Wit</td>
                                                <td><%= displayCharacter.wit %></td>
                                                <td contentEditable="true" onblur="updateWit()" id="currentWit"><%= displayCharacter.temp_wit %></td>
                                                <td><%= displayCharacter.max_wit %></td>
                                            </tr>
                                        </tbody>
                                        </table>
                                        
                                        
                                        <table class="tablesaw mb-0" data-tablesaw-mode="stack" id="skills-table">
                                            <thead>
                                            <tr>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">Skill</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-sortable-default-col data-tablesaw-priority="3">Base</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="2">Bonus</th>
                                                <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="1">Current</th>
                                            
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>Melee Weapons</td>
                                                <td><%= displayCharacter.melee_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.melee_skill %></td>
                                                
                                            </tr>
                                            <tr>
                                                <td>Ranged Weapons</td>
                                                <td><%= displayCharacter.ranged_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.ranged_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Martial</td>
                                                <td><%= displayCharacter.martial_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.martial_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Arcane</td>
                                                <td><%= displayCharacter.arcane_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.arcane_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Nature</td>
                                                <td><%= displayCharacter.nature_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.nature_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Religion</td>
                                                <td><%= displayCharacter.religion_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.religion_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Scholastics</td>
                                                <td><%= displayCharacter.scholastics_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.scholastics_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Social</td>
                                                <td><%= displayCharacter.social_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.social_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Athletics</td>
                                                <td><%= displayCharacter.athletics_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.athletics_skill %></td>
                                                
                                            </tr>
                                            <tr>
                                                <td>Crafstmanship</td>
                                                <td><%= displayCharacter.craftsmanship_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.craftsmanship_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Medicine</td>
                                                <td><%= displayCharacter.medicine_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.medicine_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Perception</td>
                                                <td><%= displayCharacter.perception_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.perception_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Larceny</td>
                                                <td><%= displayCharacter.larceny_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.larceny_skill %></td>
                                            </tr>
                                            <tr>
                                                <td>Survival</td>
                                                <td><%= displayCharacter.survival_skill %></td>
                                                <td>0</td>
                                                <td><%= displayCharacter.survival_skill %></td>
                                            </tr>
                                        </tbody>
                                        </table>
                                    </div>  
                                </div>
                                <div class="tab-pane show active" id="profile" >
                                    <p>Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt.Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim.</p>
                                    
                                    <div>
                                        <div id="vanity">

                                            <div class="form-group">
                                                <label for="name">Character Name</label>
                                                <input type="text" name="name" id="name" class="form-control" placeholder="Name" value="<%=displayCharacter.name%>" style="font-weight: bolder;" <% if(displayCharacter.owner_id != user.user_account_id) { %>readonly <% } %>>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col">
                                                    <label for="hair">Race</label>
                                                    <input placeholder="Black" type="text" name="race" id="race" class="form-control" value="<%=displayCharacter.race_name%>" readonly/> 
                                                </div>
                                                <div class="col">
                                                    <label for="eyes">Class</label>
                                                    <input placeholder="Blue" type="text" name="class" id="class" class="form-control" value="<%=displayCharacter.class_name%>" readonly/> 
                                                </div>
                                                <div class="col">
                                                    <label for="skin">Major Background</label>
                                                    <input placeholder="Pale" type="text" name="major-background" id="major-background" class="form-control" value="<%=displayCharacter.major_background_name%>" readonly/> 
                                                </div>
                                                <div class="col">
                                                    <label for="skin">Minor Background</label>
                                                    <input placeholder="Pale" type="text" name="minor-background" id="minor-background" class="form-control" value="<%=displayCharacter.minor_background_name%>" readonly/> 
                                                </div>
                                            </div>
                                            
                                            <div class="form-group row">
                                                <div class="col">
                                                    <label for="hair">Hair</label>
                                                    <input placeholder="Black" type="text" name="hair" id="hair" class="form-control" value="<%=displayCharacter.hair%>" <% if(displayCharacter.owner_id != user.user_account_id) { %>readonly <% } %>> 
                                                </div>
                                                <div class="col">
                                                    <label for="eyes">Eyes</label>
                                                    <input placeholder="Blue" type="text" name="Eyes" id="eyes" class="form-control" value="<%=displayCharacter.eyes%>" <% if(displayCharacter.owner_id != user.user_account_id) { %>readonly <% } %>> 
                                                </div>
                                                <div class="col">
                                                    <label for="skin">Skin</label>
                                                    <input placeholder="Pale" type="text" name="skin" id="skin" class="form-control" value="<%=displayCharacter.skin%>" <% if(displayCharacter.owner_id != user.user_account_id) { %>readonly <% } %>> 
                                                </div>
                                            </div>

                                            <label for="height">Height</label>
                                            <div class="form-group row">
                                                <div class="col">
                                                    <input placeholder="6'" type="text" name="feet" id="feet" class="form-control" value="<%=displayCharacter.height%>" <% if(displayCharacter.owner_id != user.user_account_id) { %>readonly <% } %>/>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="weight">Weight</label>
                                                <input type="number" name="weight" id="weight" class="form-control" placeholder="130" value="<%=displayCharacter.weight%>" <% if(displayCharacter.owner_id != user.user_account_id) { %>readonly <% } %>> <label for="weight">lbs</label>
                                            </div>

                                            
                                        </div>
                                    </div>
                                    <p class="mb-0">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim.</p>
                                </div>
                                <div class="tab-pane" id="spells">
                                            <div class="card-box table-responsive">
                                                <h4 class="header-title"><b>Character Spells</b></h4>
                                                <p class="sub-header">
                                                    Below are all of the spells that you character knows. If you need to learn more, just go to the train section(coming soon).
                                                </p>
            
                                                <table id="datatable" class="table table-bordered  dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                                    <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Description</th>
                                                        <th>School</th>
                                                        <th>Actions</th>
                                                        <th>Power Dice</th>
                                                        <th>Damage</th>
                                                    </tr>
                                                    </thead>
            
            
                                                    <tbody>
                                                    <% spells.forEach(function(spell) { %>
                                                    
                                                    <tr>
                                                        <td><%=spell.name%></td>
                                                        <td><%=spell.description%></td>
                                                        <td><%=spell.school%></td>
                                                        <td><%=spell.actions%></td>
                                                        <td><%=spell.power_dice%></td>
                                                        <td><%=spell.damage%></td>
                                                    </tr>
                                                    <% }) %>
                                                    </tbody>
                                                </table>
                                            </div>
                                </div>
                                <div class="tab-pane" id="abilities">
                                    <div class="card-box table-responsive">
                                        <h4 class="header-title"><b>Character Abilities</b></h4>
                                        <p class="sub-header">
                                            Below are all of the abilities that you character knows. If you need to learn more, just go to the train section(coming soon).
                                        </p>
    
                                        <table id="datatable" class="table table-bordered  dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                            <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Description</th>
                                                <th>School</th>
                                                <th>Actions</th>
                                                <th>Power Dice</th>
                                                <th>Damage</th>
                                            </tr>
                                            </thead>
    
    
                                            <tbody>
                                            <% abilities.forEach(function(ability) { %>
                                            
                                            <tr>
                                                <td><%=ability.name%></td>
                                                <td><%=ability.description%></td>
                                                <td><%=ability.school%></td>
                                                <td><%=ability.actions%></td>
                                                <td><%=ability.power_dice%></td>
                                                <td><%=ability.damage%></td>
                                            </tr>
                                            <% }) %>
                                            </tbody>
                                        </table>
                                    </div>
                        </div>
                                <div class="tab-pane" id="backstory">
                                    <h4 class="header-title">Character Backstory</h4>
                                        <p class="sub-header">If you don't write it down, you'll probabbly forget it. If you forget it, you will probably regret it.</p>

                                        <div id="snow-editor" style="height: 300px;">
                                            <% if (displayCharacter.backstory) { %>
                                                <div id="backstoryWrapper">
                                                    <%-displayCharacter.backstory%>
                                                </div>
                                            <% } else { %>
                                            <h3><span class="ql-size-large">My Story</span></h3>
                                            <p><br></p>
                                            <h3>This is an simple editable area.</h3>
                                            <p><br></p>
                                            <ul>
                                                <li>
                                                    Select a text to reveal the toolbar.
                                                </li>
                                                <li>
                                                    Edit rich document on-the-fly, so elastic!
                                                </li>
                                            </ul>
                                            <p><br></p>
                                            <p>
                                                Adventure Awaits!
                                            </p>
                                            <% } %>
                                        </div> <!-- end Snow-editor-->
                                        <button onclick="saveBackstory()" id="backstory" class="btn btn-primary float-right">Save Backstory</button>
                                </div>
                            </div>
                        </div>
                        
                        
                    </div> <!-- end container-fluid -->

                </div> <!-- end content -->

                

                <!-- Footer Start -->
                <%- include ../partials/footer.ejs %>



            </div>

            <!-- ============================================================== -->
            <!-- End Page content -->
            <!-- ============================================================== -->

        </div>
        <!-- END wrapper -->

        <%- include ../partials/right-sidebar.ejs %>

        <!-- Right bar overlay-->
        <div class="rightbar-overlay"></div>

        <!-- Vendor js -->
        <script src="assets/js/vendor.min.js"></script>

         <!-- Plugins js -->
         <script src="assets/libs/katex/katex.min.js"></script>
         <script src="assets/libs/quill/quill.min.js"></script>

         <!-- Required datatable js -->
        <script src="assets/libs/datatables/jquery.dataTables.min.js"></script>
        <script src="assets/libs/datatables/dataTables.bootstrap4.min.js"></script>

        <!-- Buttons examples -->
        <script src="assets/libs/datatables/dataTables.buttons.min.js"></script>
        <script src="assets/libs/datatables/buttons.bootstrap4.min.js"></script>
        <script src="assets/libs/jszip/jszip.min.js"></script>
        <script src="assets/libs/pdfmake/pdfmake.min.js"></script>
        <script src="assets/libs/pdfmake/vfs_fonts.js"></script>
        <script src="assets/libs/datatables/buttons.html5.min.js"></script>
        <script src="assets/libs/datatables/buttons.print.min.js"></script>

        <!-- Responsive examples -->
        <script src="assets/libs/datatables/dataTables.responsive.min.js"></script>
        <script src="assets/libs/datatables/responsive.bootstrap4.min.js"></script>

        <!-- Datatables init -->
        <script src="assets/js/pages/datatables.init.js"></script>
 
         <!-- Init js-->
         <script src="assets/js/pages/form-quilljs.init.js"></script>

        

        <!-- App js -->
        <script src="assets/js/app.min.js"></script>

        <!-- Page js-->
        <script src="assets/js/character-sheet.js"></script>
        
    </body>
</html>